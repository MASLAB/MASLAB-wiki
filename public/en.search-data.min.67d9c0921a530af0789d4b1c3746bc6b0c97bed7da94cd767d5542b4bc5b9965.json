[{"id":0,"href":"/docs/introduction/","title":"Introduction","section":"Docs","content":"MASLAB Robot Kit# At the beginning of the class, each team will be provided a tote with parts, tools, and a small part organizer. There will also be other shared materials and components such as MDF boards and servos for your team to start building the robot. Each team can also request additional parts by filling out an online form. Please be mindful about shipping time and fee.\nHardwares# MASLAB robot kit consists of two central components:\nA Raspberry Pi 5 computer - A powerful mini computer to run computer vision and control your robot Raven - MASLAB custom circuit board to handle power and interaction with actuators and sensors MASLAB KitBot also includes motors with encoders and servos to mobilize the robot. Teams can opt to use other motors and servos. More about actuators will be covered in another guide.\nRaven also includes 2 qwiic (https://www.sparkfun.com/qwiic) connector to connect the Pi 5 to other sensors. More about how to use sensors will be covered in another guide.\nTo power these devices LiPo batteries will be provided.\nLiPo batteries are DANGEROUS. A tutorial about using LiPo battery will be provided during the first week of class. Do not use the battery until then. In addition, please review battery guide before using the robot with a battery.\nSoftwares# The Raspberry Pi 5 is already set up with Raspberry Pi OS Trixie. Communication with the Pi will be through the Pi\u0026rsquo;s wireless hotspot or WiFi. More details will be provided in [Raspberry Pi guide].\nFull Robot Kit Checklist# Check that you have the following items. Please ask the staff if you are unsure which part is which. In the tote:\nTP-Link AC600 nano USB to WiFi adapter Logitech Brio 101 webcam Two LiPo batteries in fire safe bags A set of colorful allen key A set of multi-bit precision screwdriver Two Pololu metal gear motors In the small part organizer:\nRaspberry Pi 5 4 Gb Raspberry Pi 5 cooler 5V 27W USB-C power supply SD card with your team number on it Cable with an on-off switch Black-yellow battery cable adapter Raven board with a bag of electrical parts and a 40 pin connector Two black battery monitors/alarms A roller wheel A set of big rubber wheels and hubs with snap rings and set screws Some battery stickers for your enjoyment There are very limited spare parts so please be careful with your kit as it is highly unlikely that we can provide replacements.\nMASLAB Game Rule# MASLAB game differs from year to year. More details about the game will be released during the first week.\nNext steps# Now that you are through with the introduction, please proceed to Electrical guide and Raspberry Pi guide to get started!\n"},{"id":1,"href":"/docs/electrical/","title":"Electrical","section":"Docs","content":"Electrical how-to# As a soldering practice and cost cutting effort üí∏, some electrical part requires a bit of soldering. If you are new to soldering, need a refresh for soldering, or having any question/concern/problem, please reach out to a MASLAB staff during lab hours for assistance. For soldering through-hole components, here is a good tutorial video: https://www.youtube.com/watch?v=DJH7VLGJ4fs For soldering cables together, here is another good tutorial video: https://www.youtube.com/watch?v=NSqPHQ1zQco\nMotor# The wheel motors come with power and encoder wires. Below is the color code for the motor.\nThe Red and Black pins are for powering the motor. The other pins are for encoders to count how many revolution has the motor rotated. Raven is designed such that the encoder pins can be plugged directly into one of the encoder ports. The power pins have to be screwed into the motor terminal blocks to provide enough current.\nDetails for how to connect the motor will be explained later. For now, we need to carefully remove the Red and Black power from the connector housing. To do this, slightly lift the tabs that are keeping the Red and Black wires in place and gently pull those wires out. It is okay if you break the tabs.\nRaven Board# When described using relative position (left, right, top, bottom, etc.), the board is assumed to be facing up (component side on top). The 40 pins (20x2) headers is \u0026ldquo;top\u0026rdquo;. All components are installed on the component side unless mentioned otherwise. Header pins are installed with short side down and long side up.\nRemember to solder the 40-pin header FIRST before anything else! Otherwise, you may be unable to solder it in properly.\nSoldering# Pi connector# Raven is connected to the Raspberry Pi 5 through the standard Raspberry Pi 40 pins connector. It is the 20x2 pins located at the top most edge of the board. To populate it: :\nInstall the connector such that the exposed pins go from the bottom (side with MASLAB logo) to the top (side with components). Make sure the pins are perfectly square with the board and solder the pins. Misaligned pins may not fit on the Pi. Power button# Raven needs a power button to turn on. The connector to this power button is located near top right corner of the 1R0 cube (an inductor). Grab the power button cable, the power button connector, and the power button. Solder the connector, matching the outline on the board. Solder the power button cable to the power button.\nBattery connector# Raven uses an XT30 connector at the right most edge to connect to the battery. Install the connector and make sure that the shape of the connector matches the outline (flat edge toward top and angled edge toward bottom of board). Solder the connector.\nAs a battery connector, soldering and using this connector incorrectly will likely destroy the Raven board AND the Pi if connected. Please make sure to follow the instruction, take a look at staff\u0026rsquo;s reference board, and ask a MASLAB staff if you are unsure about anything.\nMotor terminals# Raven uses 5 terminal blocks around the bottom edge to connect to motors. Each terminal block is for one motor. Before soldering the terminal blocks, assemble a row of 5 terminal blocks with the provided blocks. Then insert the row into the through holes. Make sure that the opening points to the edge of the board and solder.\nEncoder pins# Each motor may be equipped with an encoder. The encoder pins are 4x5 pins located on the left side, above 2 black buttons. Populate Raven\u0026rsquo;s encoder ports with green, blue, yellow, and white headers from left to right.\nServo pins# A typical servo has 3 pins for power and signal. The servo pins are 5x3 pins near the top right corner of the board. Populate Raven\u0026rsquo;s servo ports with black, red, and yellow headers from top to bottom.\nDigital pins# Raven also have digital IO ports that are connected to the Pi\u0026rsquo;s GPIOs for buttons / limit switches / digital output. They are 2x5 pins located left of the servo pins. Populate the right column with black headers and left with any color like your team\u0026rsquo;s unique board identifier üòÅ\nConnecting# Power button connection# The power button you made previously plugs into the power connector. When the battery is connected, this button turns on the system. To turn off, check Raspberry Pi guide.\nMotor connection# Raven supports up to 5 motors with 5 optional encoders. If using encoder, make sure the the motor is modified according to Motor.\nEach motor terminal block has 2 screw ports for power and ground (GND) for each motor. The left most block is motor 1 and right most block is motor 5.\nEach encoder port is made of a row of green, blue, yellow, and white pins. The top most encoder port is for motor 1 and bottom most port is for motor 5. From green to white (or from left to right if you did not use colored header):\n(Left to right)\nGreen Blue Yellow White Hall ground Hall power C1 C2 To connect the motor power, loosen the screws of a terminal block, insert the power (red) wire into one screw ports and ground (black) wire into the other screw port, and tighten the screws.\nThe order of the power wires determines if the clockwise rotation is forward or reverse. Feel free to experiment and use whichever order makes the most sense for your software. You encoder value count should match the expected motor spin direction. More specifically, when motor is commanded to go forward, the encoder count should go up and vice versa. If it does not, you will need to swap C1 and C2 to match encoder count direction as well.\nTo connect the motor encoder, plug the connector with the encoder wires directly onto the encoder pins, matching the colors.\nIf you are using the wheel motor you modified in Motor, you can match the colors into the encoder port of corresponding motor. If you are using other motor, check the datasheet and match the signals. They may have slightly different names but they should all have power, ground, and two other signals. Like the motor, reversing the two signal also reverse the encoder count.\nServo connection# Raven supports up to 4 servos. Each servo port is made of a column of black, red, and yellow pins. The left most servo port is for servo 1 and right most port is for servo 4. From black to yellow (or from top to bottom if you did not use colored header):\nTo connect the servo, install the servo connector directly onto the servo pins, matching brown to black, red to red, and orange to yellow.\nDigital pins connection# Raven has 5 digital pins that pair with ground pins. Each digital port is made of a row of your team\u0026rsquo;s favorite colors and ground. The right side of the port is all connected to ground. The left side is as followed from top to bottom:\nLeft Right GPIO6 GND GPIO16 GND GPIO5 GND GPIO7 GND GPIO19 GND qwiic connection# Raven also have 2 qwiic ports to support qwiic devices such as another inertial measurement sensor, color sensor, GPS, and even an LCD. Behind the connectors are connection to the I2C ports of the Raspberry Pi. The left connector is for I2C port 1 and right connector is for I2C port 2. More information about qwiic connection system can be found here: https://www.sparkfun.com/qwiic\nBattery connection# Raven uses an XT30 connector to connect to the battery. This is the yellow connector on the right side of the board. It is smaller than the XT60 connector on the battery and requires an adapter.\nPi connection# Raven is designed as a compact Raspberry Pi HAT (Hardware Attached on Top) board. It meant to be installed directly on top of the Pi 5. To properly secure the board to the Pi, use 4 sets of M2.5 standoffs, 20 mm threaded spacers, and screws. It should look similar to this without the ribbon cable and M2.5 standoffs in place of the bottom screws:\nWith the standoffs, you can add holes on your robot to screw the Pi + Raven to the robot, keeping them in place and safe through your robot extreme tasks. Here is a picture of the Pi\u0026rsquo;s layout to help with that:\n"},{"id":2,"href":"/docs/raspberry-pi/","title":"Raspberry Pi","section":"Docs","content":"Raspberry Pi how-to# The machine given to you by staff is called a Raspberry Pi. For the purposes of this class, your Raspberry Pi comes preinstalled with a slightly customized copy of Raspberry Pi OS \u0026ndash; Trixie.\nSetting up the Pi# The Raspberry Pi 5 requires an active cooler to properly cool the board during heavy computations (i.e. /images processing). To install the cooler, follow the installation guide at: https://datasheets.raspberrypi.com/cooling/raspberry-pi-active-cooler-product-brief.pdf\nAlong with the Pi you should have received a microSD card in a microSD card case labeled with your team name. You should insert the given microSD card into the microSD card slot found on the underside of the Pi.\nFor WiFi connection, your kit should include a new USB to WiFi adapter. Unbox it and plug it into a USB 2.0 slot (black USB slot) on the Pi.\nFor powering the Pi, you should have received a 27W AC-DC converter sporting a usb-C cable. The Pi comes equipped with a single usb-C port, which you should connect this power supply to.\nAfter inserting the microSD card, the WiFi adapter, and connecting the Pi to power, you should see an array of blinking lights and a momentary spinning of the on-board cooler. During this time, your Pi is booting and running its first-time-setup scripts. Once the power indicator (the, more often than not, green blinking light) momentarily turns red, the Pi will have rebooted. After rebooting, the power indicator should return to its green-blinking state and is ready for you to hop in.\nUsing the Pi# Pi\u0026rsquo;s Hotspot# After your Pi has completed it\u0026rsquo;s initialization, it should now be broadcasting a wireless network labeled after your team name; e.g. team1wifi. Ask the staff for your team\u0026rsquo;s WiFi password and connect to the\nAfter connecting to your Pi\u0026rsquo;s wireless network, you will not have access to the \u0026ldquo;internet\u0026rdquo; until later on in this guide.\nConnecting over SSH# Having a basic understanding of navigating a shell through a command-line interface (CLI) to interact with a computer without a screen is an extremely useful skill. The shell you will use to connect to your Pi will differ system-to-system. On Apple laptops, this is done through the use of the zsh-shell, which can be accessed through spotlight by searching for \u0026ldquo;terminal\u0026rdquo;. On a Windows machine, this is done through the Command Prompt, or the Windows PowerShell. On Linux devices, this is done through whatever shell you please. It is highly encouraged to your familiarize yourself with the basics before proceeding. u To connect to the Pi, we use Secure Shell (SSH). SSH is an extremely powerful tool for remotely accessing another computer\u0026rsquo;s shell. This class involves a significant amount of coding, and being able to do so in the absence of a desktop environment is a very valuable skill. SSH allows multiple agents to remotely attach the same machine, at the same time. Most modern operating systems like OS X, Ubuntu, and Windows come with SSH preinstalled. Double check by running ssh -V in a shell. If SSH is installed, you should get something similar to this:\nPS C:\\Users\\MASLAB\u0026gt; ssh -V OpenSSH_for_Windows_9.5p1, LibreSSL 3.8.2To connect to your Pi using SSH, you need to first be connected to its broadcasted wireless network. Open a shell, or SSH-client / application and enter the following command, where X is your team number:\nssh teamX@teamXpi.localThe format of this is as follows: ssh user@hostname; where the user is your team name, and the hostname is your your team name with the pi.local suffix appended. You should keep note of your device\u0026rsquo;s hostname.\nYou should be shown a field resembling the following and prompted for a password. Ask a staff for the password.\nteamX@teamXpi.local\u0026#39;s password: There are a variety of tools to make your life easier while working in a shell. Some of the staff\u0026rsquo;s personal favorites are vim or neovim in tandem with tmux. Becoming proficient with these tools can, in many ways, be much more powerful than a traditional desktop IDE.\nShell Tool Resources# Vim Tutorial Tmux Tutiorial Connecting over RDP# There are times in which accessing a desktop on your Pi will be important. To do so, we use Remote Desktop Protocol.\nRDP on OSX/iOS# On an OSX/iOS device, the Windows App application on the app store can be used. In the application, create a new connection by clicking the plus icon, and navigating to the \u0026ldquo;PC Name\u0026rdquo; dropdown. In the field labeled Hostname or IP Address, enter your team\u0026rsquo;s hostname, teamXpi.local where X is your team number. Exit the dropdown and save.\nTo start a connection to your device, click on the saved configuration in the application\u0026rsquo;s \u0026ldquo;devices\u0026rdquo; tab. When prompted for a username and password, enter your team\u0026rsquo;s credentials:\nuser: teamX password: \u0026lt;ask staff\u0026gt;RDP on Windows# On a Windows device, you can use the preinstalled \u0026ldquo;Remote Desktop Connection\u0026rdquo; app. For \u0026ldquo;Computer\u0026rdquo;, enter your team\u0026rsquo;s hostname, teamXpi.local where X is your team number.\nThere will be a warning about the computer\u0026rsquo;s certificate. Feel free to select \u0026ldquo;Don\u0026rsquo;t ask me again for connections to this computer\u0026rdquo; and click \u0026ldquo;Yes\u0026rdquo; to connect.\nEnter username as teamX where X is your team number your team\u0026rsquo;s password.\nConnecting with VSCode# Visual Studio Code (VSCode) is a very popular code editor for many languages, including Python which runs the MASLAB library.\nWe would recommend using VSCode to interact with the Pi for the majority of your robot software development. You can download the appropriate version at https://code.visualstudio.com.\nVSCode has an extension to remotely connect to the Pi\u0026rsquo;s and open its folders directly on VSCode. The extension is available here: https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh\nInstall and follow the Getting started note with simple SSH host setup.\nShutting down# The Pi is a full computer running a full operating system that needs to stop background processes when shutting down. Therefore, you should run this command in a shell connected to the Pi to gracefully shut it down.\nsudo shutdown 0The 0 in the command indicates that we want to shutdown with 0 wait instead of the default 1 minute wait before shutdown.\nAlternatively, you can log in with RDP and use the graphical interface to shutdown.\nConnecting the Pi to MIT Wifi# After you\u0026rsquo;ve successfully connected to your Pi via either SSH or XRDP, you should now connect your Pi to the internet. This can be done either over SSH or XRDP through the desktop. It is recommended to connect to MIT\u0026rsquo;s wifi using the desktop over XRDP.\nHowever, this can also be done by using the raspi-config tool, navigating to the \u0026ldquo;System Options\u0026rdquo; tab, selecting Wireless LAN, and following the prompts.\nOnce you have connected the Pi to WiFi, your computer should also have access to the Internet through the Pi\u0026rsquo;s hotspot.\nWhat\u0026rsquo;s next?# Congratulations! You have set up and familiarized with the Pi. If you haven\u0026rsquo;t already, please checkout the following how-tos to interact with the electronics, battery, and MASLAB software.\nElectrical how-to Software how-to Battery how-to "},{"id":3,"href":"/docs/ssh/","title":"SSH","section":"Docs","content":"SSH / MOSH# Secure Shell, abbreviated as SSH, is an incredibly powerful tool for remotely accessing a networked device. In this class, we will primary use SSH, or its mobile-alternative MOSH, to interface with the Raspberry Pi.\nBefore interfacing with the Raspberry Pi, there are a few steps to setup its connectivity.\nHopping on the same LAN# In order to communicate with your Raspberry Pi, we need to connect to the same Local Area Network or LAN, for short.\nAssuming your Raspberry Pi has completed it\u0026rsquo;s initialization, it should now be broadcasting a wireless network labeled after your team name; e.g. team11wifi. The default password to this network is balsam \u0026ndash; that is, \u0026ldquo;maslab\u0026rdquo; backwards.\nConnect to this network and now both you and your Raspberry Pi will be on the same LAN.\nAfter connecting to your Pi\u0026rsquo;s wireless network, you will not have access to the \u0026ldquo;internet\u0026rdquo; until later on in this guide.\nInterfacing with the Raspberry Pi# To access the Raspberry Pi, we utilize SSH or MOSH. First, make sure you have a valid ssh/mosh client installed on your device.\nMacOS Open up the \u0026ldquo;Terminal\u0026rdquo; application on your OSX device; this can found by searching for \u0026ldquo;Terminal\u0026rdquo; in the spotlight search or through the applications menu.\nVerify SSH/MOSH is installedby typing ssh -V into the application. If not installed, install SSH and MOSH by executing brew install openssh mosh in the Terminal application.\nWindows Either the windows \u0026ldquo;Command Prompt\u0026rdquo; or \u0026ldquo;Powershell\u0026rdquo; can be used for SSH/MOSH.\nVerify SSH/MOSH is installedby typing ssh -V into the application. If not installed, install SSH by executing winget install Microsoft.OpenSSH. Optionally, install MOSH by adding the chrome extension.\nLinux Verify SSH/MOSH is installed by typing ssh -V into the terminal. If not installed, install SSH and MOSH by executing apt/apk/pacman install openssh mosh varying on your chosen linux distribution.\niOS/Android Any number of SSH/MOSH clients can be installed through your devices application manager. On both iOS and Android, Termius is the recommended SSH application.\nConnect to the Raspberry Pi using either SSH or MOSH by executing ssh \u0026lt;user\u0026gt;@\u0026lt;hostname\u0026gt;, where the \u0026lt;user\u0026gt; is your assigned team name and number, and the \u0026lt;hostname\u0026gt; is your assigned team name and number with \u0026ldquo;pi.local\u0026rdquo; suffixed; i.e. ssh team11@team11pi.local.\nConnecting the Raspberry Pi to MIT WiFi# nmcli connection add type wifi con-name \u0026#34;MIT SECURE\u0026#34; ifname wlan0 ssid \u0026#34;MIT SECURE\u0026#34; \\ wifi-sec.key-mgmt wpa-eap \\ 802-1x.eap peap \\ 802-1x.phase2-auth mschapv2 \\ 802-1x.identity \u0026#34;your_username\u0026#34; \\ 802-1x.password \u0026#34;your_password\u0026#34;sudo nmcli device wifi hotspot ssid \u0026lt;hotspot name\u0026gt; password \u0026lt;hotspot password\u0026gt; ifname wlan0"},{"id":4,"href":"/docs/shell/","title":"Using a Shell","section":"Docs","content":"Terminal / Shell# The shell is a robust communication interface between you and your operating system. This section is concerned with the basics of navigating and manipulating the file-tree accessible via the Bourne Again Shell - BA$H.\nNavigation in the Shell# The prompt is the textual input into the shell. This is where you\u0026rsquo;ll execute commands and view their output, usually designated by the $. The text to the left of the prompt contains details about your session such as user, hostname, and current working directory or path; i.e. user@hostname ~/current/working/directory $ _.\nThe commands you should familiarize yourself with first are ls and cd.\nls: list files in directory cd: change directory To view a more comprehensive description of each of these commands, execute man ls or man cd to view the \u0026ldquo;man-page\u0026rdquo; for either. This goes for any of the following commands introduced as well.\nManipulating the File-Tree# The file-tree can be directly manipulated in the shell. A few commands you should familiarize yourself with are touch, mkdir, rm, cp, and mv.\nCreate a File Create a file with a given path: touch /path/to/file.txt.\nCreate a Directory Create a directory/folder with a given path: mkdir /path/to/folder/.\nRemove a File Remove a file with a given path: rm /path/to/file.\nCopy a File Copy a file from one path to another: cp /path/to/file /path/to/copy.\nMove a File Move a file from one path to another: mv /path/to/file /path/to/new-file.\nThis can also be used to rename an existing file!\nText Editors in the Shell# There are a number of terminal-based text editors, each with their own grade of learning curve. Proficiency with at least one of these is recommended. MASLAB recommends familiarizing yourself with either the (neo)Vi(m) or Nano text editors.\n(neo)Vi(m)# Vi is an extremely powerful terminal-based text editor for the Unix operating system. Vim and Neovim are variants of the Vi editor packaged with a library of additional features.\nIf not already installed, they can be added by the following in your shell.\nsudo apt install -y neovim vim vi You should memorize/write-down the following information if unfamiliar with the (neo)Vi(m) editors.\nModes# (neo)Vi(m) is interacted through a number of modes. The two you will familiarize yourself with most will be the insert and visual modes. These modes are entered by pressing i or v for the insert and visual modes, respectively. You can exit a mode at any time by pressing the esc key.\nIn the insert mode, text can be written to or removed from the active buffer (the current window). The cursor can be moved through the use of the arrow keys.\nIn the visual mode, text can be highlighted, copied, pasted, deleted, and more. The cursor is moved in the same manner as the insert mode, or through the use of the hjkl keys. To copy text, first highlight it and press the y key, then paste it by pressing p.\nCommands# The (neo)Vi(m) command line is opened by pressed : on the keyboard. Here, you can enter a palette of commands, a few of which are listed below.\nWriting Files To write the buffer to a new file, use :w file-name.txt.\nLeaving the Editor To leave the editor, use :q. You can forcibly leave the editor by executing :q!.\nSearching A pattern can be searched for by executing :/pattern, where pattern is the desired term to be sought after.\nLine Numbers Line numbers can be shown by executing :set number. Among others, you can enable spellcheck by executing set spell .\nCombining Commands You can combine commands into a single statement by leading them on-top of one another. For example, to both save and quit :wq.\nOpening the Editor# To use (neo)Vi(m), execute the name of the editor to be used (vi / vim / nvim).\nTo familiarize yourself, play around with the editor or head to OpenVim, a great tool to practice your text-editing in (neo)Vi(m).\n"},{"id":5,"href":"/docs/git/","title":"Git","section":"Docs","content":"Git how-to# Git is a software version control system to keep track of changes to your software development project. Git allows you to make and keep track of small updates (\u0026ldquo;commits\u0026rdquo;) as you develop your software. These commits should be safe checkpoints with descriptions of what changed such that you can revert to if your latest changes immobilize or destroy your robot. As such, they are also a great way to document your progress. Git also allows you to prototype with a separate copy of the software without affecting the main copy (\u0026ldquo;branch\u0026rdquo; out). Therefore, it is also a great tool to collaborate with others as you can have separate copies of the software and develop independently.\nInstallation# Git is already installed on the Pi. You should also install Git on your own computer to write software on your computer without the Pi.\nOS X# OS X should have Git installed by default.\nLinux# Linux should also have Git installed by default. If not, checkout https://git-scm.com/install/linux and install with your appropriate distro.\nWindows# For Windows, download and run the \u0026ldquo;Standalone Installer\u0026rdquo; from https://git-scm.com/install/windows.\nGit version# Try this command to print out the version of Git on your system.\ngit -vAccessing MIT Git# MIT hosts a Git server accessible to all MIT students at https://github.mit.edu. Your team software should also be hosted at https://github.mit.edu/maslab-2026. Check that you are able to access your team\u0026rsquo;s software repository there. If not, please contact a course staff to get access permission.\nSetting up SSH on your personal computer# Git also uses SSH to connect to Git servers. Follow this guide to set up and connect an SSH to your MIT GitHub account. You DO NOT have to do things with GitHub CLI (commands starting with gh).\nMake sure to add that at https://github.mit.edu, where you have to sign in with your Kerberos, NOT the public https://github.com.\nSetting up SSH on the Pi# In order to get read/write access to your repository from the Pi, you can add a repository-specific \u0026ldquo;Deploy Key.\u0026rdquo; This lets you access a repository from the device without having to add a key for your Pi on any individual team member\u0026rsquo;s account.\nTo add a deploy key to your Pi, follow the steps in \u0026ldquo;Set up deploy keys\u0026rdquo; in this guide. In these instructions, \u0026ldquo;server\u0026rdquo; refers to the Pi. Your team repository should have been created for you, and can be found at github.mit.edu/maslab-2026/team-\u0026lt;number\u0026gt;.\nUsing Git# Configure user# To blame know who make code changes, Git needs to be configured with a default name and email address to be linked to each commit. To do that, run these command on your computer and replace \u0026lt;your name\u0026gt; and \u0026lt;your email\u0026gt; appropriately:\ngit config --global user.name \u0026#34;\u0026lt;your name\u0026gt;\u0026#34; git config --global user.email \u0026#34;\u0026lt;your email\u0026gt;\u0026#34;As for the Pi, feel free to use teamX and teamX@teamXpi for name and email, replacing X with your team number.\nTutorials# Now that you have Git installed and set up, you can follow these tutorials to try using Git on your own computer.\nEasy way: https://learngitbranching.js.org/. Do \u0026ldquo;Main -\u0026gt; Introduction Sequence\u0026rdquo; and \u0026ldquo;Remote -\u0026gt; Push \u0026amp; Pull \u0026ndash; Git Remotes!\u0026rdquo; h4rdc0r3 way: https://missing.csail.mit.edu/2020/version-control/. Git in VSCode: https://code.visualstudio.com/docs/sourcecontrol/quickstart. For this tutorial, you can clone your team repository at github.mit.edu/maslab-2026/team-\u0026lt;number\u0026gt;. In addition, follow up with branches and resolve merge conflicts. What\u0026rsquo;s next# Now that Git is set up on your computer and the Pi, make sure your teammates who would want to develop the robot software also has it set up. Then, clone your team\u0026rsquo;s repository to your computer and the Pi and start developing!\n"},{"id":6,"href":"/docs/battery/","title":"Battery","section":"Docs","content":"Battery how-to# Guide for inspecting, storing, charging, and using the battery\nBattery components# The battery system is packages with several components for safe battery usage. Here is the list of battery components in your kit:\nComponent Quantity LiPo battery 2 LiPo charger 1 LiPo safety bag 2 Low voltage monitor 2 Switch cable 1 LiPo battery# The LiPo battery for the Pi is a LiPo battery with 3 cells connected in series (3S battery) with 5200mAh. This should keeps the robot fully running for ~2 hours, or idling for ~6 hours. The battery has an XT60 connector for power output and a JST-XH balancing lead for monitoring individual cells. Read the manufacturer\u0026rsquo;s manual for more information.\nLiPo charger# The charger included is a LiPo balancing lead charger. It charges and monitor individual battery cell\u0026rsquo;s voltage through the balancing lead to make sure no cell exceeds the rated voltage of LiPo battery (4.2V). The charger is designed to charge at up to 2000mA per cell and supports 2 or 3 cells battery. It does NOT support charging 2 batteries at the same time. Read the manufacturer\u0026rsquo;s manual for more information.\nLiPo safety bag# Two fireproof bags are provided for storing the batteries while not in use.\nSwitch extension cable# In case the robot becomes sentient and goes on a rampage, something is burning, or any other emergency situation, a switch extension cable is provided. The switch will turn off connection to the battery and cut off power supply to the robot.\nLow voltage monitor# Low voltage monitors are provided to make sure that the battery cell voltages do not fall below a safety threshold (3.3V) during use. They continuously monitor the voltages through the safety leads and let out a loud a buzz whenever any cell reaches the safety threshold.\nInspection# Lipo batteries can be physically damaged (puncture, bend, etc) or electrically damaged (overcharged, overdischarged, overcurrent). Our battery comes in hard plastic shell to prevent physical damage, and we do everything we can to prevent electrical damage. However, accidents can happen and we need to know how to check for damages.\nPhysical inspection# Swollen battery# Badly damaged LiPo battery will swell. Check for signs of battery swelling. For reference, the left battery is a normal battery and the right battery is damaged.\nEven though our battery has a hard plastic casing, a swelling battery may cause the shell to warp and no longer sits flat on the table.\nSwollen battery is extremely dangerous and may burst into flame at anytime! Please inform a MASLAB staff immediately for proper disposal once there is any sign of swelling.\nLeads# The batteries may be subjected to many rounds of plug-unplugs, scraping, electrical problems, etc. These may cause damages to the insulation and the connectors. Please check the wires for any sign of burns, and exposed conductors. Here is some refence for exposed wire and damaged connector:\nElectrical inspection# Cell voltage is a good indicator of battery health. Plug in the low voltage monitor to check for cell voltages. The cell voltages should read between 3.3V and 4.2V for a healthy LiPo battery.\nThe low voltage monitor is polarized. Please be careful when installing the balancing lead. The black wire should be connected to the first pin (BBX end) as shown in the previous picture. Below is a reference from older generation of the product.\nStorage# Here is a general list of steps for storing batteries. For more information, check battery manufacturer\u0026rsquo;s manual.\nInspect. Store in a battery-safe bag. Place the bag in a dry area at room temperature and away from flammable objects. LiPo battery performance degrades when left at fully charged or fully depleted for too long. For storing LiPo battery over long period of time (longer than a week), make sure the cell voltages are around 3.8V. Read the battery manufacturer\u0026rsquo;s safety notes for more information.\nWith degrading performance at higher voltage, it is recommended to NOT charge the battery if you do not plan to use it immediately after. Exception to this is when the battery voltage is too low.\nCharge# Here is a general list of steps for charging the batteries. For more information, check the charger manufacturer\u0026rsquo;s manual.\nInspect. Plug the charger into the wall outlet. Plug the battery balancing lead into 3 CELL slot of the charger. The plug only goes in one way (see picture). Wait for the charger LED to turn from red üî¥ to blue üîµ. Do not leave the battery unattended while charging. Any battery charging without a team member nearby will be confiscated. This LiPo charger is simple. Too simple for charging EVERY kind of battery. It can destroy the batteries, itself, and burn down your place if misused. Therefore, here is a list of DO-NOTs:\nDo not use it for any battery that is not LiPo. Do not use it to charge two batteries at the same time. Do not use it to charge battery with lower than 2000mAh. Do not leave it unattended while charging. Use# Again, inspect the battery before use. Then make sure to use the following components.\nLow voltage monitor# Please have the low voltage monitor connected to the battery balancing lead as long as the battery is in use. When not in use, feel free to remove the monitor and store the battery in the battery safe bag.\nFeel free to tape a low voltage monitor to each battery so you will remember to plug it in during use.\nFused and switch cables# Please connect the battery only to a switch cables. DO NOT CONNECT THE BATTERY DIRECTLY TO THE RAVEN BOARD.\nYou can have these cables attached to your robot. Highly recommend designing a cut-out on your robot to nicely insert the switch.\nFull battery connection diagram# Using Pi with battery# The battery will also power the Pi on through Raven board and conflicts with the USB-C power adapter.\nDO NOT USE THE USB-C POWER ADAPTER WHILE THE BATTERY IS PLUGGED IN!\nDO NOT PLUG IN THE BATTERY WHILE USING USB-C POWER ADAPTER!\nYour Raven should be updated with the latest firmware BEFORE using with the battery. With Raven installed on top of a Pi:\nConnect the power button to Raven. Connect the battery to Raven following the usage guide Press the power button momentarily The Pi should turn on and stay on after the button is released.\nTo shutdown the Pi while the battery is plugged in, follow the normal shutdown procedure.\nAdditional resources# MIT EHS provides a general checklist for using Lithium batteries. Feel free to print them out for references. They can be downloaded here: https://ehs.mit.edu/wp-content/uploads/2019/09/Lithium_Battery_Checklist.pdf\nWhat\u0026rsquo;s next# With the battery, you can start powering your Pi and motors with the full electrical oomph of LiPo. PLEASE be careful with the battery as it can fail catastrophically when misused. Check out software guide to start using the motors.\n"},{"id":7,"href":"/docs/camera/","title":"Camera","section":"Docs","content":"Camera how-to# Now that your robot can move itself, it\u0026rsquo;s time to give it some vision to understand its surrounding!\nPrerequisites# Computer with Python installed. Python is already installed by default on the Pi. Webcam (provided USB webcam or laptop\u0026rsquo;s built-in) The following tutorial can generally be followed on your laptop using either the provided USB webcam or built-in webcam. For consistency between what you see while running on your laptop and while running on the Pi, we would recommend using the provided webcam. Using the built-in webcam is fine for testing out small things only.\nOpenCV# OpenCV (Open Computer Vision) has been the de-facto software library for doing /images processing (at least at MASLAB).\nOpenCV for Python installation# On the Pi# sudo apt install -y python3-opencvOn your computer# pip install opencv-pythonOpenCV import# To add OpenCV to your Python script, import it with:\nimport cv2 # OpenCV version 2 import numpy as np # Numpy numerical library for mathematical operation on /images dataBasic camera usage# With OpenCV installed and imported, you can let OpenCV capture what your camera see with cv2.VideoCapture(). In general, if the computer only has 1 camera installed, you can create a video capture device with:\ncap = cv2.VideoCapture(0) # Capture from first cameraIn this code, the 0 indicates the camera index. For a simple single camera system, this is just the first camera that the system recognizes. If you are running this on your laptop, this means the built-in webcam (if any). If you attach the USB camera to the Pi and run on the Pi, it should be the USB camera.\nIf you are using the USB camera and want to try on your laptop and not the Pi, you may have to add additional arguments.\nFor Windows:\ncap = cv2.VideoCapture(1, cv2.CAP_DSHOW)For Linux:\ncap = cv2.VideoCapture(1, cv2.CAP_V4L2)For Mac:\ncap = cv2.VideoCapture(1, cv2.CAP_AVFoundation)With these, the cv2.CAP_xxx indicates the API needed to access the USB camera. This is different with different operating system. 1 indicates the next camera besides the built-in camera.\nTo get the exact API (backend) and the index, cv2-enumerate-cameras is a great tool: https://github.com/lukehugh/cv2_enumerate_cameras\nIf you are running OpenCV on your laptop, you may need to allow Python to access the camera in your security settings and/or with your Antivirus software (if any).\nRead camera frame# To read a frame from the video capture device, we can use cv2.read():\nret, frame = cap.read()cap.read() returns 2 value, ret and frame. ret is a debugging value that will be True if a frame was captured successfully and False otherwise. If ret == True, frame is a valid OpenCV frame that can be processed.\nWrite camera frame# We can then save the frame with cv2.imwrite:\ncv2.imwrite(\u0026#34;test_frame.png\u0026#34;, frame) # Save frame to path \u0026#34;test_frame.png\u0026#34;With this code, cv2.imwrite will save the captured frame to an /images called test_frame.png. You can redirect it to another folder to keep things organized by creating a folder and change the path. i.e. debug/test_frame.png. Note that you will have to create the folder manually first. imwrite will silently not write to non-existent folder.\nView camera in real-time# For more real-time debugging, you can run a loop with cv2.imshow() to continuously display the frame:\n# Adapted from https://docs.opencv.org/4.x/dd/d43/tutorial_py_video_display.html while True: # Capture frame-by-frame ret, frame = cap.read() # if frame is read correctly ret is True if not ret: print(\u0026#34;Can\u0026#39;t receive frame (stream end?). Exiting ...\u0026#34;) break cv2.imshow(\u0026#39;frame\u0026#39;, frame) if cv2.waitKey(1) == ord(\u0026#39;q\u0026#39;): breakWith this code, an OpenCV window will pop up, showing the camera feed in real-time. cv2.waitKey(1) == ord('q') tells OpenCV to listen for q key press for 1 millisecond. So to quit the loop, press q on your keyboard. Closing the window will only make OpenCV pop another window up.\nFor running cv2.imshow on the Pi, a graphical window is needed such that SSH remote connection alone will not be able to display from the Pi. Therefore, you will need to test with RDP.\nBasic /images processing# Now that you are able to get frames from the camera, you can do some basic /images processing.\nColor space# With /images processing, it is important to understand how color is represented. By default, an OpenCV frame is encoded as an (height x width x 3) array. This array contains (height x width) pixels. Each pixel is encoded as an array of 3 values from 0 to 255 of [blue, red, green] channels (as opposed to the usual RGB). This is one color space that OpenCV understands and easy for computer to understand. However, for object recognition based on color shades, it is difficult to compare.\nFor example, bgr(191, 112, 43) to bgr(89, 52, 20) may come from the same object at different lighting angles yet have wildly different RGB values.\nA better color space to compare would be HSV. HSV is based on human perception of color and encodes color in 3 values:\nH - Hue: color shade as represented in a circle (0-179) S - Saturation: color vibrancy (0-255) V - Value: color brightness (0-255) With HSV, the two previous colors become hsv(150, 198, 191) and hsv(150, 198, 89). In this case, the colors only differ by the brightness value as expected.\nTo convert from one color-space to another, cv2.cvtColor() can be used:\nhsv_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)With this, cv2.cvtColor will convert frame to hsv_frame from the default BGR to HSV color space as specified by cv2.COLOR_BGR2HSV.\ncv2.imwrite and cv2.imshow expects BGR by default. Therefore, using it on an HSV frame may result in some very ~artistic~ images.\nBasic examples# Here are a few quick examples to get you started:\nGetting Started with Python OpenCV. Fundamental /images operations. Feel free to save a frame from the camera to follow along. Color segmentation. From MASLAB 2020 to detect the biggest continuous green object. You may need to adjust the HSV mask correspondingly. Object distance detection. More advanced object distance detection from 2025, following the lecture slide. Advanced camera usage# Manual settings# Laptop webcams and USB webcams are designed for very general usage such that there may be automatic settings such as exposure and white balance. These may be nice to have for changing environments but may trigger randomly and mess up your /images and color calibration. Therefore, it may help to manually control these.\nManual exposure# cap.set(cv2.CAP_PROP_AUTO_EXPOSURE, 0.25) # Set to manual exposure mode with 0.25 \u0026#34;magic number\u0026#34; cap.set(cv2.CAP_PROP_EXPOSURE, -7) # Set exposure time to 2^-7 = 1/128 secondManual white balance# cap.set(cv2.CAP_PROP_AUTO_WB, 0.0) # Disable auto white balance cap.set(cv2.CAP_PROP_WB_TEMPERATURE, 4200) # Set white balance temperature to 4200KOther props# Along with exposure and white balance, there are other properties that you may want to explore. They can be found here: https://docs.opencv.org/4.x/d4/d15/group__videoio__flags__base.html#ggaeb8dd9c89c10a5c63c139bf7c4f5704da5c790a640b290f73fcd279e8bbaf0f13\nUnfortunately the official documentation is quite poor in describing the values so you may have to rely a lot on other online resources / forums / OpenCV GitHub issues\nCalibration# Due to the camera lens, captured images may be distorted, making straight features curved and curved features straight. For example:\nThis makes it difficult to accurately estimate the true object position as /images processing algorithms often assume the inputs are non-distorted images.\nTo correct the /images, a calibration procedure is necessary to find how distorted the camera is and calculate a set of correction values to be applied after. This procedure can be found along with more detailed explanation for camera distortion at https://docs.opencv.org/4.x/dc/dbb/tutorial_py_calibration.html\nCalibration pattern# You will need a calibration pattern of checkered squares. Here is an example one with 2 x 2 cm squares: calibration.pdf. When printing, make sure to apply no scaling to get the correct square size. Once you have a pattern, make sure to tape it down on a surface as flat as possible.\n"},{"id":8,"href":"/docs/software/","title":"Software","section":"Docs","content":"Software how-to# Guide and general tips on using MASLAB software and other software to interact with sensors and actuators on the robot. Checkout electrical how-to to learn how to connect the hardwares.\nPrerequisites# Raven board fully soldered and installed onto the Pi. Raspberry Pi 5 fully set up and connected to internet. Install and update MASLAB software# DO NOT USE THE BATTERY WHILE UPDATING MASLAB SOFTWARE. POWER THE SYSTEM WITH THE USB-C POWER ADAPTER INSTEAD. The power from the battery to the Pi is managed by Raven such that the update process will disturb its operation and cause the entire system to turn off.\nRaven board is completely new! That also means it comes with no firmware installed. Therefore, we need to deploy the firmware by running this command on the Pi:\nmaslab-updateIf everything goes well, you should see something similar to this in your shell:\nThis command will grab the latest version of the Raven firmware and deploy it on the Raven, so make sure Raven is installed on the Pi before running this command. It will also install the latest version of our software library to use Raven.\nMASLAB will always be a work in progress. We may release updated versions of Raven firmware and software library as we (and you) discover bugs and improve our software. Therefore, remember to run this command again when we announce software updates.\nDeveloping with Python and VSCode# If you are using VSCode for developing and connecting to the Pi, it is highly recommended to also install VSCode\u0026rsquo;s Python extension.\nIf you are not familiar with Python, please follow VSCode\u0026rsquo;s tutorial on how to develop with Python: https://code.visualstudio.com/docs/python/python-tutorial.\nAnd of course please feel free to ask course staffs any question!\nMASLAB software library# MASLAB staffs maintain a Python library that supports using the motors and servos on the Raven board (raven).\nSince these library is communicating with a hardware, no two instances may run at the same time. DO NOT have two different Python scripts trying to use Raven.\nThe library is available at https://github.com/MASLAB/maslab-lib.\nImport Raven# from raven import Raven raven_board = Raven()DC Motors# The motor is powered by the battery such that your Pi + Raven setup needs to be powered by the battery to run the motor. The provided motor is a POWERFUL motor. Please have it secured to your table / robot before testing. Test at low speed / torque before going full power!\nDC motors may come with encoders to estimate how many rotation has the motor rotated. To increase the resolution of the encoder, the encoder spins with some gear ratio with respect to the motor, which also has another gear ratio. For example, the provided motor is a 50:1 motor with an encoder that does 64 counts per revolution (also called pulse per revolution). This means the encoder will count 50 * 64 = 3200 counts per motor rotation.\nRaven supports up to 5 DC motors with encoders.\nEncoder# With Raven, you can get the encoder values. You can also set them to a new initial value. Here is an example of how to use it:\nraven_board.set_motor_encoder(Raven.MotorChannel.CH1, 0) # Set encoder count for motor 1 to zero print(raven_board.get_motor_encoder(Raven.MotorChannel.CH1)) # Print encoder count = \u0026#34;0\u0026#34; Encoder count should matches with the motor direction. To test, run the motor with direct mode (see direct mode) and read out encoder reading. When motor is going forward (reverse=False), encoder counts should go up. If not, swap the C1 and C2 wires. See motor connection for more information.\nMotor# There are 3 ways to drive the motors:\nDirect - Motor moves according to a torque and speed factor. We recommend driving in direct mode first to get things started. Position (requires encoder) - Motor moves to an encoder position with PID control Velocity (requires encoder) - Motor moves with a set encoder velocity using PID control Disabled - Turn off the motor To use the motors, make sure you have imported Raven. Then follow the following examples for each mode.\nOnce motor mode and PID values are set, you can set motor drive values without having to set the mode and PID values again.\nDirect mode# In direct mode, you get to set the torque factor as 0% to 100% of available torque. You also get to set the speed as 0% to 100% of max speed and a direction of rotation. These conditions are subjected to the battery\u0026rsquo;s voltage. Do this for most reliable actuation or custom controls. Also useful as a part of mechanical designs.\nraven_board.set_motor_mode(Raven.MotorChannel.CH1, Raven.MotorMode.DIRECT) # Set motor mode to DIRECT # Speed controlled: raven_board.set_motor_torque_factor(Raven.MotorChannel.CH1, 100) # Let the motor use all the torque to get to speed factor raven_board.set_motor_speed_factor(Raven.MotorChannel.CH1, 10, reverse=True) # Spin at 10% max speed in reverse # Torque controlled: raven_board.set_motor_speed_factor(Raven.MotorChannel.CH1, 100) # Make motor try to run at max speed forward raven_board.set_motor_torque_factor(Raven.MotorChannel.CH1, 10) # Let it use up to 10% available torqueControlled mode# The control loop for Raven motor runs at 1kHz (dt = 0.001). This will be important to playing with PID values.\nThe PID values provided are only as examples. They are untested and may not work for your motors. Here is some tip to tune the values:\nStart with some P and adjust until your motor starts going to desired target quickly but may not reach / little overshoot. Include I and adjust until your motor gets up to target set point quickly and settle to correct target point with some overshoot. Include D and adjust until your motor get to set point still quickly and correctly but does not overshoot. Often time you only needs PI or PD to control your motors. Here is also a great video to demonstrate the effects of PID: https://www.youtube.com/watch?v=fusr9eTceEo\nCheck control theory lecture notes to refresh about PID control: https://maslab.mit.edu/2025/lectures\nFor controlled modes, you will need to provide a current limit for the motor effort. Maximum allowed current is 6.4 amps.\nraven_board.set_motor_max_current(Raven.MotorChannel.CH1, 5) # Set motor current to 5 ampsPosition controlled# In position controlled mode, you get to set the PID value for the controller and a target in encoder counts.\nraven_board.set_motor_encoder(Raven.MotorChannel.CH1, 0) # Reset encoder raven_board.set_motor_max_current(Raven.MotorChannel.CH1, 5) # Set motor current to 5 amps raven_board.set_motor_mode(Raven.MotorChannel.CH1, Raven.MotorMode.POSITION) # Set motor mode to POSITION raven_board.set_motor_pid(Raven.MotorChannel.CH1, p_gain = 100, i_gain = 0, d_gain = 0) # Set PID values # Make the motor spin until 4400 counts (10 rev of wheel motor) raven_board.set_motor_target(Raven.MotorChannel.CH1, 4400)Velocity controlled# In velocity controlled mode, you also get to set PID value and target in encoder counts per second.\nraven_board.set_motor_encoder(Raven.MotorChannel.CH1, 0) # Reset encoder raven_board.set_motor_max_current(Raven.MotorChannel.CH1, 5) # Set motor current to 5 amps raven_board.set_motor_mode(Raven.MotorChannel.CH1, Raven.MotorMode.VELOCITY) # Set motor mode to POSITION raven_board.set_motor_pid(Raven.MotorChannel.CH1, p_gain = 10, i_gain = 0, d_gain = 0) # Set PID values # Make the motor spin at -4400 counts/second (-10 rev/sec of wheel motor) raven_board.set_motor_target(Raven.MotorChannel.CH1, -4400)Servos# Servos are position controlled motors that can move from -90 degree to 90 degree. Their signal is based on a timed pulse. Typically, 1000us means -90 degree and 2000us means 90 degree. Some servo may have different values.\nRaven board supports up to 4 servos. For each servo, you get to set the position in degree. Optionally, you can set the minimum and maximum pulse microsecond as min_us and max_us for you appropriate motor. Otherwise, they are defaulted to min_us=1000 and max_us=2000. Here is an example of how to use them once you have imported Raven.\n# Set the servo 1 to -75 degrees with custom pulse microseconds raven_board.set_servo_position(Raven.ServoChannel.CH1, -75, min_us=500, max_us=2500)What\u0026rsquo;s next?# Now that you have the software and firmware to run Raven. AFTER the battery lecture and reviewing the battery guide. Feel free to power your Pi with the battery and see if you can make your motors and servos move!\nOnce you are familiar with using the Pi and the MASLAB library to interact with Raven, you can start thinking about writing and testing out your robot software. To keep your software development progress organized, we will be using Git version control system. Checkout Git guide to \u0026ldquo;git\u0026rdquo; started.\n"}]